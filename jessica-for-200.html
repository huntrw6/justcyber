<!doctype html>
<!-- The Time Machine GitHub pages theme was designed and developed by Jon Rohan, on Feb 7, 2012. -->
<!-- Follow him for fun. http://twitter.com/jonrohan. Tail his code on https://github.com/jonrohan -->
<html lang="en-US">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link rel="stylesheet" href="/justcyber/assets/css/style.css?v=30a2110dd329ba817a69a88d864068a4063fa2d0">
  <script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
  <script src="/justcyber/assets/js/script.js"></script>

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>JustCyber | Capture The Flag Webpage</title>
<meta name="generator" content="Jekyll v3.9.3" />
<meta property="og:title" content="JustCyber" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Capture The Flag" />
<meta property="og:description" content="Capture The Flag" />
<link rel="canonical" href="https://huntrw6.github.io/justcyber/jessica-for-200" />
<meta property="og:url" content="https://huntrw6.github.io/justcyber/jessica-for-200" />
<meta property="og:site_name" content="JustCyber" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="JustCyber" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"Capture The Flag Webpage","headline":"JustCyber","url":"https://huntrw6.github.io/justcyber/jessica-for-200"}</script>
<!-- End Jekyll SEO tag -->

<!-- start custom head snippets, customize with your own _includes/head-custom.html file -->
<!-- Setup Google Analytics -->
<!-- You can set your favicon here -->
<!-- link rel="shortcut icon" type="image/x-icon" href="/justcyber/favicon.ico" -->
<!-- end custom head snippets -->

</head>
<body>
  <div class="wrapper">
    <header>
      <h1 class="title">JustCyber</h1>
      <div id="main" role="main">
        <div class="download-bar">
          <div class="inner">
          
            <a href="" class="code"> Subtitle</a>
          
          
          
          </div>
        </div>
        <article class="markdown-body">
          
          MAKE CONTENT HERE!
          
          
          <h3>Noah did everything just as God commanded him. Genesis 6:22</h3>

          <p><img src="F1Test.jpg" alt="ENCRYPED" /></p>
          
          
          
          
          
          
import javax.swing.JButton;
import javax.swing.JFileChooser;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JOptionPane;
import javax.swing.JTextField;
import javax.swing.filechooser.FileNameExtensionFilter;
import java.awt.FlowLayout;
import java.awt.image.BufferedImage;
import javax.imageio.ImageIO;
import java.io.File;
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.IOException;

public class ImageOperation {
    static File file = null;

    static boolean isEncrypted(File file) {
        try {
            BufferedImage image = new BufferedImage(1, 1, BufferedImage.TYPE_INT_ARGB);
            image = ImageIO.read(file);
            if (image == null)
                return true;
        } catch (Exception e) {
            return true;
        }
        return false;
    }

    static void operation(int key, File file, boolean doEncrypt) {
        try {
            // encryption & decryption logic
            FileInputStream fis = new FileInputStream(file);
            byte[] data = new byte[fis.available()];
            fis.read(data);

            int i = 0;
            for (byte b : data) {
                data[i] = (byte) (b ^ key);
                i++;
            }

            FileOutputStream fos = new FileOutputStream(file);
            fos.write(data);
            fos.close();
            fis.close();

            String message;
            if (doEncrypt)
                message = "file Encrypted successfully.";
            else
                message = "file Decrypted successfully.";
            JOptionPane.showMessageDialog(null, message);

        } catch (IOException e) {
            e.printStackTrace();
        }
    }

    public static void main(String[] args) {

        // creating a frame
        JFrame f = new JFrame();
        f.setTitle("Image Encryption/Decryption");
        f.setSize(300, 300);
        f.setLocationRelativeTo(null);

        // choose file button
        JButton cf = new JButton();
        cf.setText("choose file");

        // Encryption button
        JButton enc = new JButton();
        enc.setText("Encrypt");

        // Decryption button
        JButton dec = new JButton();
        dec.setText("Decrypt");

        JLabel label = new JLabel("Key:");
        // creating text field
        JTextField tf = new JTextField(10);

        // button listeners
        cf.addActionListener(e -> {
            JFileChooser fc = new JFileChooser();
            fc.addChoosableFileFilter(new FileNameExtensionFilter("Image Files", "jpg", "png"));
            fc.setAcceptAllFileFilterUsed(false);
            fc.showOpenDialog(null);
            file = fc.getSelectedFile();
        });

        enc.addActionListener(e -> {
            try {
                String val = tf.getText();
                int key = Integer.parseInt(val);
                if (file == null) {
                    JOptionPane.showMessageDialog(null, "please select a file!", "Error", JOptionPane.ERROR_MESSAGE);
                } else {
                    if (isEncrypted(file)) {
                        JOptionPane.showMessageDialog(null, "File is already Encrypted!");
                    } else {
                        operation(key, file, true);
                    }
                }

            } catch (NumberFormatException no_key) {
                JOptionPane.showMessageDialog(null, "key cannot be empty!", "Error", JOptionPane.ERROR_MESSAGE);
            }
        });

        dec.addActionListener(e -> {
            try {
                String val = tf.getText();
                int key = Integer.parseInt(val);
                if (file == null) {
                    JOptionPane.showMessageDialog(null, "please select a file!", "Error", JOptionPane.ERROR_MESSAGE);
                } else {
                    if (isEncrypted(file)) {
                        operation(key, file, false);
                    } else {
                        JOptionPane.showMessageDialog(null, "File is already Decrypted!");
                    }
                }

            } catch (NumberFormatException no_key) {
                JOptionPane.showMessageDialog(null, "key cannot be empty!", "Error", JOptionPane.ERROR_MESSAGE);
            }

        });

        f.setLayout(new FlowLayout());
        f.add(label);
        f.add(tf);
        f.add(cf);
        f.add(enc);
        f.add(dec);
        f.setVisible(true);
        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
    }
}
          
          
          
          
          
          
        </article>
      </div>
    </div>
    <footer>
      <div class="owner">
      <p><a href="https://github.com/huntrw6/justcyber" class="avatar"><img src="https://github.com/jsierracyber.png" width="48" height="48"></a> <a href="https://github.com/huntrw6/justcyber">JustCyber</a></p>
      </div>
      <div class="creds">
        <small>This page generated using <a href="https://pages.github.com/">GitHub Pages</a><br>theme by <a href="https://twitter.com/jonrohan/">Jon Rohan</a></small>
      </div>
    </footer>
  </div>
  <div class="current-section">
    <a href="#top">Scroll to top</a>
    <a href="https://github.com/huntrw6/justcyber" class="code">source code</a>
    <p class="name"></p>
  </div>
</body>
</html>
